<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/4.3.1/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/4.3.1/css/bootstrap-grid.min.css"/>
    <link rel="stylesheet" type="text/css" href="/webjars/font-awesome/5.7.2/css/fontawesome.min.css"/>
    <script type="text/javascript" src="webjars/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="webjars/jquery/3.3.1-2/jquery.min.js"></script>
    <th:block layout:fragment></th:block>
    <script>
        $(document).ready(function () {
            // Update the active item in nav bar
            if ($("#homePage").length) {
                $("navHome").addClass("active")
            }
            else if ($("#showsPage").length) {
                $("navShows").addClass("active")
            }
            else if ($("#adminPage").length) {
                $("navAdmin").addClass("active")
            }
        })
    </script>
</head>
<body>
<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top justify-content-end">
    <span class="navbar-brand"><img src="/img/favicon-32x32.png" class="d-inline-block align-top"> My Shows</span>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle Navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbarNav" class="collapse navbar-collapse">
        <ul class="navbar-nav mr-auto">
            <li id="navHome" class="nav-item"><a class="nav-link" th:href="@{/home}"><i class="fa fa-home" aria-hidden="true"></i> Home</a></li>
            <li id="navShows" class="nav-item"><a class="nav-link" th:href="@{/shows/search.html}"><i class="fa fa-film" aria-hidden="true"></i> Shows</a></li>
        </ul>
        <ul class="navbar-nav">
            <li id="navUser" class="nav-item dropdown" sec:authorize="isAuthenticated()">
                <a id="userDropdown" class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <!--<i class="fa fa-user-circle" aria-hidden="true"></i> <span th:text="${#authentication.principal.user.firstName}"></span>-->
                    <i class="fa fa-user-circle" aria-hidden="true"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                    <a sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown-item" th:href="@{/admin/adminTemplate}"><i class="fa fa-sliders" aria-hidden="true"></i></a>
<!--
                    <a class="dropdown-item" href="#"><i class="fa fa-check-square-o" aria-hidden="true"></i> User Settings</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" th:href="@{/logout}"><i class="fa fa-sign-out" aria-hidden="true"></i> Log Out</a>
-->
                </div>
            </li>
<!--
            <li id="navSignUp" class="nav-item" sec:authorize="!isAuthenticated()">
                <a class="nav-link" th:href="@{/user/signup}"><i class="fa fa-user-o" aria-hidden="true"></i> Sign Up</a>
            </li>
            <li id="navLogin" class="nav-item" sec:authorize="!isAuthenticated()">
                <a class="nav-link" th:href="@{/user/login}"><i class="fa fa-sign-in" aria-hidden="true"></i> Log In</a>
            </li>
-->
        </ul>
    </div>
</nav>
<main role="main" class="container-fluid">
    <div class="row">
        <div class="col-sm-1"></div>
        <div class="content col-sm-10" layout:fragment="content">
            Page content goes here
        </div>
        <div class="col-sm-1"></div>
    </div>
</main>
</body>
</html>